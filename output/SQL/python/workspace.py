"""
Transpiled from APL

Generated by APL to Python Transpiler
"""

import numpy as np
from apl_primitives import *


def O(_, Q):
    """
    Transpiled from APL function: O
    Original header: ‚ç¨ p ‚ç¨ ‚ç∑ ‚ç¨ ‚Üê ‚ç∫ _ O ? Q A PW pW W ‚ç∑ V ‚ç¥ W 0 W ‚äñ V V l l X X ‚çï X X 0 Y Y ‚ç∑ Y 0 Z ‚ç¥ Z Z [ ‚çï [ ‚Üê [ \ \ ‚çï \ \ ] ‚ç¥ ] ] 0 ‚ç∑ _ _ _ _ a a ‚ç¥ a a 0 b Pb ‚äñ b c 0 c ‚ç¥ c c Pd pd d Pe ‚ç¥ e e f ‚çï f g Pg 0 g g 0 h ‚çï h h ‚Üê h pi i j ‚ç¥ j ‚äñ j 0 k Pk ‚çï k ‚Üê k k m ‚äñ q ‚çï q ‚äñ p ‚ç∑ p q Pq u u r r r ‚äñ r r s s s ‚çï s t t ‚ç¥ t t 0 v v u ‚çï u ‚Üê u x pv ‚ç¥ v v w
    """
    return ‚ç¨ p ‚ç¨ ‚ç∑ ‚ç¨


def pi(h, i):
    """
    Transpiled from APL function: pi
    Original header: 0 h ‚çï h h ‚Üê h pi i j ‚ç¥ j ‚äñ j 0 k Pk ‚çï k ‚Üê k k m ‚äñ q ‚çï q ‚äñ p ‚ç∑ p q Pq u u r r r ‚äñ r r s s s ‚çï s t t ‚ç¥ t t 0 v v u ‚çï u ‚Üê u x pv ‚ç¥ v v w w pw ‚çï w ‚ç∑ w x z z y ‚çï y y { { z z ‚äñ z ‚ç∑ z z P { p { ‚Üê { | | | ‚çï ‚ç¥ ~ ~ ~ ‚ç¥ ~ ~ p p ‚ç¥ ‚â§ ‚â§ ‚äñ ‚ç∑ ¬® ¬® ‚ç¥ ¬® ‚Üê ¬® P ‚çï ‚Üê < 0 < ‚ç¥ < ‚äñ < ‚â§ ‚â§ 0 ‚à® ‚à® = = p = ‚äñ = ‚â• p ‚â• ‚Üê ‚â• > > > ‚Üê > ‚â† 0 ‚â† ‚â† ‚çï ‚â† ? ‚çï ? ‚ç¥ ‚à® ‚äñ ‚à® ‚à® ‚àß
    """
    return 0 h ‚çï h h


def k(k, m):
    """
    Transpiled from APL function: k
    Original header: 0 k Pk ‚çï k ‚Üê k k m ‚äñ q ‚çï q ‚äñ p ‚ç∑ p q Pq u u r r r ‚äñ r r s s s ‚çï s t t ‚ç¥ t t 0 v v u ‚çï u ‚Üê u x pv ‚ç¥ v v w w pw ‚çï w ‚ç∑ w x z z y ‚çï y y { { z z ‚äñ z ‚ç∑ z z P { p { ‚Üê { | | | ‚çï ‚ç¥ ~ ~ ~ ‚ç¥ ~ ~ p p ‚ç¥ ‚â§ ‚â§ ‚äñ ‚ç∑ ¬® ¬® ‚ç¥ ¬® ‚Üê ¬® P ‚çï ‚Üê < 0 < ‚ç¥ < ‚äñ < ‚â§ ‚â§ 0 ‚à® ‚à® = = p = ‚äñ = ‚â• p ‚â• ‚Üê ‚â• > > > ‚Üê > ‚â† 0 ‚â† ‚â† ‚çï ‚â† ? ‚çï ? ‚ç¥ ‚à® ‚äñ ‚à® ‚à® ‚àß ‚àß P ‚àß p ‚àß ‚çï ‚àß ‚ç∑ ‚àß √ó √ó √ó ‚çï √ó
    """
    return 0 k Pk ‚çï k


def x(u, pv):
    """
    Transpiled from APL function: x
    Original header: v u ‚çï u ‚Üê u x pv ‚ç¥ v v w w pw ‚çï w ‚ç∑ w x z z y ‚çï y y { { z z ‚äñ z ‚ç∑ z z P { p { ‚Üê { | | | ‚çï ‚ç¥ ~ ~ ~ ‚ç¥ ~ ~ p p ‚ç¥ ‚â§ ‚â§ ‚äñ ‚ç∑ ¬® ¬® ‚ç¥ ¬® ‚Üê ¬® P ‚çï ‚Üê < 0 < ‚ç¥ < ‚äñ < ‚â§ ‚â§ 0 ‚à® ‚à® = = p = ‚äñ = ‚â• p ‚â• ‚Üê ‚â• > > > ‚Üê > ‚â† 0 ‚â† ‚â† ‚çï ‚â† ? ‚çï ? ‚ç¥ ‚à® ‚äñ ‚à® ‚à® ‚àß ‚àß P ‚àß p ‚àß ‚çï ‚àß ‚ç∑ ‚àß √ó √ó √ó ‚çï √ó ‚Üê √ó √ó 0 √∑ P √∑ p √∑ ‚ç¥ √∑ √∑ ? ? ? ? ‚àä ‚àä P ‚çµ p ‚çµ ‚Üê ‚çµ ‚Üë ‚Üë ‚àä ‚àä ‚ç∑ ‚àä ‚ç¥ ‚ç¥ ‚ç¥ ‚çï ‚ç¥ ~ ~ ‚ç¥ ~
    """
    return v u ‚çï u


def p(P, p):
    """
    Transpiled from APL function: p
    Original header: ‚çï ‚Üê 0 P p ‚äñ ‚çï p ‚ç¥ ‚äñ 0 ‚ç¥ ‚äñ ‚äñ ‚çï p ‚çï ‚Üê ‚äñ ‚Üê 0 p ‚Üê P ‚çï ‚ç∑ ‚ç¥ ‚äñ p ‚ç∑ p ‚Üê ‚Üê 0 P p ‚çï ‚äñ ‚çï ‚ç¥
    """
    ‚çï = ‚äñ = ‚çï = rho(0, ‚ç∑(0, ‚ç∑(p, ‚ç∑(0, reverse_first(shape(reverse_first(‚ç∑(‚ç∑(reverse_first(reverse_first(p)))))))))))
    return ‚çï


def P3(C, P4):
    """
    Transpiled from APL function: P3
    Original header: ‚çï 1 2 ‚ç∑ C ‚Üê C 3 P3 ‚çï 3 3 P4 ‚äñ 4 5 5 ‚äñ 5 6 p6 ‚ç∑ 6 7 7 7 ‚ç∑ 7 7 8 8 ‚çï 8 9 9 ‚ç¥ 9 ‚äñ 9 0 : ‚äñ : ‚ç∑ : ; ‚ç∑ ; ; < p < < = = = ‚Üê = = > > ‚ç¥ > ‚äñ > ‚ç∑ > 0 ? P ? ‚äñ ? ‚ç∑ ? P ‚ç∑ A A A ‚çï A ‚Üê A A B ‚çï B C 0 C PC 0 F F ‚ç¥ D ‚äñ D E 0E PE pE ‚ç∑ E F H H F ‚çï F F G 0 G PG ‚äñ G G H ‚çï I ‚ç¥ I H ‚çï H H I pI L L I J J J ‚Üê J J 0 K PK ‚çï K M pM pL ‚ç¥ L L M PM N ‚Üê N ‚Üê M M N N ‚çï N N N N U U O 0 O O
    """
    ‚ç∑ = None
    < p < < = = = ‚Üê = = > > ‚ç¥ > ‚äñ > ‚ç∑ > 0 ? P ? ‚äñ ? ‚ç∑ ? P ‚ç∑ A A A ‚çï A ‚Üê A A B ‚çï B C 0 C PC 0 F F ‚ç¥ D ‚äñ D E 0E PE pE ‚ç∑ E F H H F ‚çï F F G 0 G PG ‚äñ G G H ‚çï I ‚ç¥ I H ‚çï H H I pI L L I J J J ‚Üê J J 0 K PK ‚çï K M pM pL ‚ç¥ L L M PM N ‚Üê N ‚Üê M M N N ‚çï N N N N U U O 0 O O = None

    return ‚çï 1 2 ‚ç∑ C


def A(A, B):
    """
    Transpiled from APL function: A
    Original header: A A ‚çï A ‚Üê A A B ‚çï B C 0 C PC 0 F F ‚ç¥ D ‚äñ D E 0E PE pE ‚ç∑ E F H H F ‚çï F F G 0 G PG ‚äñ G G H ‚çï I ‚ç¥ I H ‚çï H H I pI L L I J J J ‚Üê J J 0 K PK ‚çï K M pM pL ‚ç¥ L L M PM N ‚Üê N ‚Üê M M N N ‚çï N N N N U U O 0 O O O ‚çï O ‚ç∑ O O P P ‚äñ P ‚ç∑ P P 0 Q PQ ‚ç¥ Q ‚äñ Q ‚ç∑ Q Q pR ‚ç¥ R ‚äñ R S S S S S T T T ‚çï T T ‚ç∑ V ‚Üê V ‚Üê U U V V ‚çï V pX X W 0 W W ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z
    """
    return A A ‚çï A


def J(J, K):
    """
    Transpiled from APL function: J
    Original header: J J J ‚Üê J J 0 K PK ‚çï K M pM pL ‚ç¥ L L M PM N ‚Üê N ‚Üê M M N N ‚çï N N N N U U O 0 O O O ‚çï O ‚ç∑ O O P P ‚äñ P ‚ç∑ P P 0 Q PQ ‚ç¥ Q ‚äñ Q ‚ç∑ Q Q pR ‚ç¥ R ‚äñ R S S S S S T T T ‚çï T T ‚ç∑ V ‚Üê V ‚Üê U U V V ‚çï V pX X W 0 W W ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T
    """
    return J J J


def M(N, M):
    """
    Transpiled from APL function: M
    Original header: M PM N ‚Üê N ‚Üê M M N N ‚çï N N N N U U O 0 O O O ‚çï O ‚ç∑ O O P P ‚äñ P ‚ç∑ P P 0 Q PQ ‚ç¥ Q ‚äñ Q ‚ç∑ Q Q pR ‚ç¥ R ‚äñ R S S S S S T T T ‚çï T T ‚ç∑ V ‚Üê V ‚Üê U U V V ‚çï V pX X W 0 W W ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T √∑ ‚ç¥ x ‚ç≥
    """
    0
    return M PM N


def M(M, N):
    """
    Transpiled from APL function: M
    Original header: N ‚Üê M M N N ‚çï N N N N U U O 0 O O O ‚çï O ‚ç∑ O O P P ‚äñ P ‚ç∑ P P 0 Q PQ ‚ç¥ Q ‚äñ Q ‚ç∑ Q Q pR ‚ç¥ R ‚äñ R S S S S S T T T ‚çï T T ‚ç∑ V ‚Üê V ‚Üê U U V V ‚çï V pX X W 0 W W ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T √∑ ‚ç¥ x ‚ç≥
    """
    0
    l
    return N


def U(V, U):
    """
    Transpiled from APL function: U
    Original header: ‚çï T T ‚ç∑ V ‚Üê V ‚Üê U U V V ‚çï V pX X W 0 W W ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T √∑ ‚ç¥ x ‚ç≥
    """
    0
    l = shape(rho(FC, rho(RL, rho(PW, np.array([PR, rho(0, np.array([LX, rho(L, rho(TZ, less_equal(SVE, shape(NLT))))]))])))))
    return ‚çï T T ‚ç∑ V


def U(U, V):
    """
    Transpiled from APL function: U
    Original header: V ‚Üê U U V V ‚çï V pX X W 0 W W ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T √∑ ‚ç¥ x ‚ç≥
    """
    0
    l = shape(rho(FC, rho(RL, rho(PW, np.array([PR, rho(0, np.array([LX, rho(L, rho(TZ, less_equal(SVE, shape(NLT))))]))])))))
    return V


def Y(Y, X):
    """
    Transpiled from APL function: Y
    Original header: ‚çï W X X ‚Üê Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T √∑ ‚ç¥ x ‚ç≥
    """
    0
    l = shape(rho(FC, rho(RL, rho(PW, np.array([PR, rho(0, np.array([LX, rho(L, rho(TZ, less_equal(SVE, shape(rotate_first(NLT, np.array([ABSTRACT, D, AP2WSM, L0, divide(Z, np.array([TNCP, divide(N, np.array([CODE, L, P]))]))]))))))]))])))))
    return ‚çï W X X


def X(X, Y):
    """
    Transpiled from APL function: X
    Original header: Y ‚äñ Y ‚Üê X X 0 Y PY ‚ç¥ Y ] ] Z Z pZ ‚äñ Z [ P [ [ ‚çï [ ‚ç∑ [ P \ ‚Üê \ ‚çï ] ‚ç∑ ‚Üê ‚ç∑ ] ] ‚çï ‚çô p ‚àä P T √∑ ‚ç¥ x ‚ç≥
    """
    0
    l = shape(rho(FC, rho(RL, rho(PW, np.array([PR, rho(0, np.array([LX, rho(L, rho(TZ, less_equal(SVE, shape(rotate_first(NLT, np.array([ABSTRACT, D, AP2WSM, L0, divide(Z, np.array([TNCP, divide(N, np.array([CODE, L, PRE, T, TAB]))]))]))))))]))])))))
    return Y ‚äñ Y


def IS(N, MESSAGE):
    """
    Transpiled from APL function: IS
    Original header: , N ) IS MESSAGE TOKENS ; EXCESS TOKENS ARE IGNORED . ‚ç™ ( ‚çµ ‚çô - TNCP IS TABLENAME [ CODEPREFIX ] ; ‚çµ P : ‚åπ ‚çô IF TNCP IS SIMPLE THEN IT IS BOTH NAME AND PREFIX . ‚åπ P 4 N ‚çô - ALL IBM CODE PREFIXES MUST BE 'AP2W' , WSNAME N J ‚åπ ‚çô - THE MESSAGE TABLE HAS A NUMBER ( ‚åπ N , ' ' ) FOLLOWED BY MESSAGE TEXT . ‚åπ L ‚äá ‚çô '¬∞' MARKS POSITIONS FOR TOKENS ; EXTRA MARKERS ARE FILLED WITH '**' ‚äá P 6 n ‚çô '‚çñ' SEPARATES MESSAGE FROM 'MORE' INFORMATIONn J ‚åπ ‚çô - THE GLOBAL VARIABLE 'MORE' IS GIVEN THE CODE AND THE 'MORE' TEXT . ‚åπ D N ‚çô - IF TABLE DOES NOT EXIST OR N IS INVALID , RETURN MESSAGE 999 N n ‚çô n . ‚ç™ ‚çô EXECUTION PROPERTIES : NON - SUSPENDABLE - ‚ç™ D N ‚çô ON INVALID ARGUMENTS , SUSPENSION IN THE CALLING FUNCTION IS : N ( ‚çµ ‚çô PRODUCED EXPLICITLY , VIA ‚ç¥ ES : ‚çµ P 4 N ‚çô VALENCE ERROR ON MISSING LEFT ARGUMENTN P 6 n ‚çô DOMAIN ERROR ON EMPTY RIGHT ARGUMENT 'N' n P : ‚åπ ‚çô RANK ERROR ON LEFT ARGUMENT ( MUST BE VECTOR ) ‚åπ P : ‚åπ ‚çô OR PRODUCED IMPLICITLY , VIA A FAILED OPERATION : ‚åπ ! P 4 N ‚çô DOMAIN ERROR ON NUMERIC LEFT ARGUMENT N P 8 ‚çµ ‚çô RANK ERROR OR AXIS ERROR ON MESSAGE TABLE ‚çµ P 2 . ‚çô N MAY BE ANY TYPE AND RANK , BUT NOT EMPTY . l ‚Üê P > S ( M ) / '                ‚çô VALENCE ERROR  &               TNCP        ' ( F S ( ‚ç™ ) / ) ‚çµ ‚çô DOMAIN ERROR ‚çµ ) * B S ( h ) / + . ‚çô RANK ERROR . + ,
    """
    EXCESS TOKENS ARE IGNORED . ‚ç™ ( ‚çµ ‚çô - TNCP IS TABLENAME [ CODEPREFIX ] = None
    ‚çµ P : ‚åπ ‚çô IF TNCP IS SIMPLE THEN IT IS BOTH NAME AND PREFIX . ‚åπ P 4 N ‚çô - ALL IBM CODE PREFIXES MUST BE 'AP2W' , WSNAME N J ‚åπ ‚çô - THE MESSAGE TABLE HAS A NUMBER ( ‚åπ N , ' ' ) FOLLOWED BY MESSAGE TEXT . ‚åπ L ‚äá ‚çô '¬∞' MARKS POSITIONS FOR TOKENS = None
    EXTRA MARKERS ARE FILLED WITH '**' ‚äá P 6 n ‚çô '‚çñ' SEPARATES MESSAGE FROM 'MORE' INFORMATIONn J ‚åπ ‚çô - THE GLOBAL VARIABLE 'MORE' IS GIVEN THE CODE AND THE 'MORE' TEXT . ‚åπ D N ‚çô - IF TABLE DOES NOT EXIST OR N IS INVALID , RETURN MESSAGE 999 N n ‚çô n . ‚ç™ ‚çô EXECUTION PROPERTIES : NON - SUSPENDABLE - ‚ç™ D N ‚çô ON INVALID ARGUMENTS , SUSPENSION IN THE CALLING FUNCTION IS : N ( ‚çµ ‚çô PRODUCED EXPLICITLY , VIA ‚ç¥ ES : ‚çµ P 4 N ‚çô VALENCE ERROR ON MISSING LEFT ARGUMENTN P 6 n ‚çô DOMAIN ERROR ON EMPTY RIGHT ARGUMENT 'N' n P : ‚åπ ‚çô RANK ERROR ON LEFT ARGUMENT ( MUST BE VECTOR ) ‚åπ P : ‚åπ ‚çô OR PRODUCED IMPLICITLY , VIA A FAILED OPERATION : ‚åπ ! P 4 N ‚çô DOMAIN ERROR ON NUMERIC LEFT ARGUMENT N P 8 ‚çµ ‚çô RANK ERROR OR AXIS ERROR ON MESSAGE TABLE ‚çµ P 2 . ‚çô N MAY BE ANY TYPE AND RANK , BUT NOT EMPTY . l ‚Üê P > S ( M ) / '                ‚çô VALENCE ERROR  &               TNCP        ' ( F S ( ‚ç™ ) / ) ‚çµ ‚çô DOMAIN ERROR ‚çµ ) * B S ( h ) / + . ‚çô RANK ERROR . + , = None



def A(T, ‚çô):
    """
    Transpiled from APL function: A
    Original header: , ‚çµ ‚çô TOKENS FOR MESSAGE _N ‚çµ p V ‚Üê T = A . ‚çô FIND TOKEN MARKERS . A C * * B ‚ç¥ t ( / T ) ‚Üê ( + / ) _ ‚åà , ( + / ) C N ‚çô ASSIGN TOKENS OR '**' N D P < ‚äá ‚çô_____ RETURN MESSAGE ; SET 'MORE' WITH CODE AND MESSAGE ‚äá E p \ ‚Üê + T F ‚äá ‚çô LENGTH OF THE MESSAGE NUMBER ‚äá F H G ‚ç¥ t ‚Üê ( ‚ç≤ , _ T ) , ( + T H ) T N ‚çô ASSIGN 'MORE' TEXT N I b ‚Üê ( ~ \ ‚ç∏ J ) / ‚äá ‚çô DELETE TRAILING BLANKS ‚äá J K b T ‚Üê ( T L ) _ T ‚ç™ ‚çô RETURN MESSAGE TEXT ‚ç™ L M b T ‚Üê ( ~ \ T ‚ç∏ N ) / T ‚äá ‚çô DELETE TRAILING BLANKS ‚äá N O P > ‚Üí ( P = M Q ) / ‚çô NAME CONFLICT P Q MORE R F , ‚Üê N ‚çô ASSIGN M TO 'MORE' N E ) l 2 E ‚ç± ( ! ( * , . / 1 3 4 6 7 8 : ; < = > ? B D E G I K M O R S P 0 0 0 1 ERROR DURING OFFER 2 UNABLE TO OFFER 3 'DAT' IS NOT SHARED WITH AP127
    """
    SET 'MORE' WITH CODE AND MESSAGE ‚äá E p \ ‚Üê + T F ‚äá ‚çô LENGTH OF THE MESSAGE NUMBER ‚äá F H G ‚ç¥ t ‚Üê ( ‚ç≤ , _ T ) , ( + T H ) T N ‚çô ASSIGN 'MORE' TEXT N I b ‚Üê ( ~ \ ‚ç∏ J ) / ‚äá ‚çô DELETE TRAILING BLANKS ‚äá J K b T ‚Üê ( T L ) _ T ‚ç™ ‚çô RETURN MESSAGE TEXT ‚ç™ L M b T ‚Üê ( ~ \ T ‚ç∏ N ) / T ‚äá ‚çô DELETE TRAILING BLANKS ‚äá N O P > ‚Üí ( P = M Q ) / ‚çô NAME CONFLICT P Q MORE R F , ‚Üê N ‚çô ASSIGN M TO 'MORE' N E ) l 2 E ‚ç± ( ! ( * , . / 1 3 4 6 7 8 : = None
    < = > ? B D E G I K M O R S P 0 0 0 1 ERROR DURING OFFER 2 UNABLE TO OFFER 3 'DAT' IS NOT SHARED WITH AP127 = None

    return , ‚çµ ‚çô TOKENS FOR MESSAGE _N ‚çµ p V


def ‚çô(J, DELETE):
    """
    Transpiled from APL function: ‚çô
    Original header: T N ‚çô ASSIGN 'MORE' TEXT N I b ‚Üê ( ~ \ ‚ç∏ J ) / ‚äá ‚çô DELETE TRAILING BLANKS ‚äá J K b T ‚Üê ( T L ) _ T ‚ç™ ‚çô RETURN MESSAGE TEXT ‚ç™ L M b T ‚Üê ( ~ \ T ‚ç∏ N ) / T ‚äá ‚çô DELETE TRAILING BLANKS ‚äá N O P > ‚Üí ( P = M Q ) / ‚çô NAME CONFLICT P Q MORE R F , ‚Üê N ‚çô ASSIGN M TO 'MORE' N E ) l 2 E ‚ç± ( ! ( * , . / 1 3 4 6 7 8 : ; < = > ? B D E G I K M O R S P 0 0 0 1 ERROR DURING OFFER 2 UNABLE TO OFFER 3 'DAT' IS NOT SHARED WITH AP127 4 ITEM IS EMPTY , ALL ZERO , OR ALL BLANK 5 ARGUMENT MUST BE A VECTOR 6 RIGHT ARGUMENT LENGTH ERROR 7 STATEMENT ITEM MUST BE SIMPLE 8 ARGUMENT MUST BE SCALAR OR VECTOR 9 ARGUMENT MUST NOT BE EMPTY 10 ARGUMENT MUST NOT BE SIMPLE 11 FIRST ITEM IS NOT A CHARACTER STRING 12 CHARACTER STRING LENGTH IS ONE 13 WRONG NUMBER OF ARGUMENTS FOR THIS STATEMENT 14 MESSAGE CODE MUST BE A SIMPLE LENGTH 5 VECTOR15 STACK MUST BE A MATRIX 16 CHART CALL HAS FAILED . RETURN CODE IS : V T x Z ‚Üê TAW n ‚çô TRIVIAL APPEND - CALLED BY QUERYn
    """
    < = > ? B D E G I K M O R S P 0 0 0 1 ERROR DURING OFFER 2 UNABLE TO OFFER 3 'DAT' IS NOT SHARED WITH AP127 4 ITEM IS EMPTY , ALL ZERO , OR ALL BLANK 5 ARGUMENT MUST BE A VECTOR 6 RIGHT ARGUMENT LENGTH ERROR 7 STATEMENT ITEM MUST BE SIMPLE 8 ARGUMENT MUST BE SCALAR OR VECTOR 9 ARGUMENT MUST NOT BE EMPTY 10 ARGUMENT MUST NOT BE SIMPLE 11 FIRST ITEM IS NOT A CHARACTER STRING 12 CHARACTER STRING LENGTH IS ONE 13 WRONG NUMBER OF ARGUMENTS FOR THIS STATEMENT 14 MESSAGE CODE MUST BE A SIMPLE LENGTH 5 VECTOR15 STACK MUST BE A MATRIX 16 CHART CALL HAS FAILED . RETURN CODE IS : V T x Z ‚Üê TAW n ‚çô TRIVIAL APPEND - CALLED BY QUERYn = None

    return T N ‚çô ASSIGN 'MORE' TEXT N I b


def IS(ARGS, A):
    """
    Transpiled from APL function: IS
    Original header: ‚åä p ‚ç± ‚àò ‚àÜ | , ‚çé ‚çï ‚äÇ ‚à™ ‚ä¢ ‚çã ‚çí ‚åπ ‚çü T ‚à™ T CUR_ ‚åπ P > ‚ç™ ‚çô - CREATES THE STACK ( OR QUEUE ) FOR A SELECT STATEMENT - ‚ç™ ‚åΩ 0 ‚çô THE SEQUENCE IS ( PREP OPEN FETCH CLOSE ) . ‚äñ D N ‚çô - ARGS IS A NON - SIMPLE 1 OR 2 - ITEM VECTOR OF ( STMT [ VALUES ] ) . N ‚çâ D N ‚çô IF ( _VAL ‚Üê 1 ARGS ) IS A MATRIX , THE CALL TO SUBFUNCTION OFC_N ! P > ‚ç™ ‚çô REPEATS THE ( OPEN FETCH CLOSE ) SEQUENCE FOR EACH ROW . ‚ç™ ‚åø P T ‚Üê ‚çÄ / ( _ ‚à™ ) n ‚çô FIRST ARGUMENT IS STATEMENT n ‚çÄ PREP / APL2 \ N T ‚Üê ‚à™ ‚çµ ‚çô SELECT VALUE - LIST ( MAY BE EMPTY ) ‚çµ ‚çù    P   @      ‚åΩ( = ‚çõ‚à™   )/‚Üí    .       ‚çô SET EMPTY IF MISSING .‚Üí               VAL‚Üê‚çë‚ç¶0     ‚ç±   P  :      ‚åΩ(# = ‚çõ ‚çõ _ T   )/ ¬§   ‚çµ ‚çô ENCLOSE IF MATRIX‚çµ      ¬§               VAL‚Üê‚çë[2]_VAL‚åª   ‚å∂   d       T   ‚Üê T    , _ ,/ l   ¬µ T  ‚çµ            ‚çô CATENATE (OPEN FETCH CLOSE) SEQUENCES ‚çµ           ‚ç≤           ‚ç±   `   
    """
    #    ‚ç±   ‚åª      ‚çÉ            T  ‚ç≠  ‚åà  F DA‚çÑ   0         ‚Üí(# = M‚Üê    )/‚ä•    ‚Üê             F              ‚Üí              ‚ç≠   ‚Üê    ‚ç¨   0         ‚Üí(#  ‚Äø M‚ç∫    )/‚ä•    ‚ç∫               TFMT        ‚åà   0          ‚ç≠   ‚Üê                  ‚åä   0         ‚ä•   ‚åà   ‚Üê3  _ ‚åà     _   P   6      ‚Üí( ‚ç≠   =‚àá   )/ ‚çñ    , ¬∏    ,‚àò             ‚àá                       ‚àò             ‚äñ          '   @   $      ‚àò   T   ‚Üê‚éï    ‚åπ ‚åà              ‚éï       
    556 = None
    np.array([6, reduce_plus(np.array([6, reduce_plus(555)]))])
    return ‚åä p ‚ç± ‚àò ‚àÜ | , ‚çé ‚çï ‚äÇ ‚à™ ‚ä¢ ‚çã ‚çí ‚åπ ‚çü T ‚à™ T CUR_ ‚åπ P > ‚ç™ ‚çô - CREATES THE STACK ( OR QUEUE ) FOR A SELECT STATEMENT - ‚ç™ ‚åΩ 0 ‚çô THE SEQUENCE IS ( PREP OPEN FETCH CLOSE ) . ‚äñ D N ‚çô - ARGS IS A NON - SIMPLE 1 OR 2 - ITEM VECTOR OF ( STMT [ VALUES ] ) . N ‚çâ D N ‚çô IF ( _VAL


def n(_, ‚çô):
    """
    Transpiled from APL function: n
    Original header: ARGS ) IS A MATRIX , THE CALL TO SUBFUNCTION OFC_N ! P > ‚ç™ ‚çô REPEATS THE ( OPEN FETCH CLOSE ) SEQUENCE FOR EACH ROW . ‚ç™ ‚åø P T ‚Üê ‚çÄ / ( _ ‚à™ ) n ‚çô FIRST ARGUMENT IS STATEMENT n ‚çÄ PREP / APL2 \ N T ‚Üê ‚à™ ‚çµ ‚çô SELECT VALUE - LIST ( MAY BE EMPTY ) ‚çµ ‚çù    P   @      ‚åΩ( = ‚çõ‚à™   )/‚Üí    .       ‚çô SET EMPTY IF MISSING .‚Üí               VAL‚Üê‚çë‚ç¶0     ‚ç±   P  :      ‚åΩ(# = ‚çõ ‚çõ _ T   )/ ¬§   ‚çµ ‚çô ENCLOSE IF MATRIX‚çµ      ¬§               VAL‚Üê‚çë[2]_VAL‚åª   ‚å∂   d       T   ‚Üê T    , _ ,/ l   ¬µ T  ‚çµ            ‚çô CATENATE (OPEN FETCH CLOSE) SEQUENCES ‚çµ           ‚ç≤           ‚ç±   `   
    """
    #    ‚ç±   ‚åª      ‚çÉ            T  ‚ç≠  ‚åà  F DA‚çÑ   0         ‚Üí(# = M‚Üê    )/‚ä•    ‚Üê             F              ‚Üí              ‚ç≠   ‚Üê    ‚ç¨   0         ‚Üí(#  ‚Äø M‚ç∫    )/‚ä•    ‚ç∫               TFMT        ‚åà   0          ‚ç≠   ‚Üê                  ‚åä   0         ‚ä•   ‚åà   ‚Üê3  _ ‚åà     _   P   6      ‚Üí( ‚ç≠   =‚àá   )/ ‚çñ    , ¬∏    ,‚àò             ‚àá                       ‚àò             ‚äñ          '   @   $      ‚àò   T   ‚Üê‚éï    ‚åπ ‚åà              ‚éï       
    556 = None
    6 = None
    5 = ‚ç® = None
      = 0 = matrix_divide(quad_, ceiling(quad_))
    556 = None
    6 = None
    5 = ‚ç® = None
      = 0 = matrix_divide(quad_, ceiling(quad_))
    556 = None
    6 = None
    5 = ‚ç® = None
      = 0 = D = F = None
    ARGS = np.array([ARGS, p])
    return ARGS ) IS A MATRIX , THE CALL TO SUBFUNCTION OFC_N ! P > ‚ç™ ‚çô REPEATS THE ( OPEN FETCH CLOSE ) SEQUENCE FOR EACH ROW . ‚ç™ ‚åø P T


def M(F, TFMT):
    """
    Transpiled from APL function: M
    Original header: T ‚åà F DA 0 ‚Üí ( = M ‚Üê ) / ‚Üê F ‚Üí ‚Üê ‚ç¨ 0 ‚Üí ( M ‚ç∫ ) / ‚ç∫ TFMT ‚åà 0 ‚Üê ‚åä 0 ‚åà ‚Üê 3 _ ‚åà _ P 6 ‚Üí ( = ) / , , ‚àò ‚àò ‚äñ '   @   $      ‚àò   T   ‚Üê‚éï    ‚åπ ‚åà              ‚éï       
       
     0556-06-05 ‚çû             ‚Üí             ¬¢   P  :      ‚çñ   T   ‚Üê ‚äÜ    ‚åπ ‚åà   [ l   +‚äá   ]      ‚äÜ       
       
     06/06/0555  ‚äá                         ‚ç∏             ‚Üí            ‚ç∑   P  :      ¬∏   T   ‚Üê ‚å∏    ‚åπ ‚åà   [ l   +‚ç§   ]      ‚å∏       
       
     05 05 0555 ‚ç§                         ‚ç•   @   .      (( T   =‚ç£    )/ T   )‚Üê‚ç®     ‚ç£                            ‚ç®             .              ‚Üê   @       ‚ä•    ‚äñ    ‚àò     ‚çñ  
     ¬∏     ' 'F‚Üê0' p
    """
    ‚ç± = ‚Üí = DAT_ = ( = < = matrix_divide(quad_, ceiling(quad_))
    556 = None
    6 = None
    5 = ‚ç® = None
      = 0 = D = F = None
    ARGS = ARGS = None
    return T ‚åà F DA 0 ‚Üí ( = M


def M(F, TFMT):
    """
    Transpiled from APL function: M
    Original header: A 0 ‚Üí ( = M ‚Üê ) / ‚Üê F ‚Üí ‚Üê ‚ç¨ 0 ‚Üí ( M ‚ç∫ ) / ‚ç∫ TFMT ‚åà 0 ‚Üê ‚åä 0 ‚åà ‚Üê 3 _ ‚åà _ P 6 ‚Üí ( = ) / , , ‚àò ‚àò ‚äñ '   @   $      ‚àò   T   ‚Üê‚éï    ‚åπ ‚åà              ‚éï       
       
     0556-06-05 ‚çû             ‚Üí             ¬¢   P  :      ‚çñ   T   ‚Üê ‚äÜ    ‚åπ ‚åà   [ l   +‚äá   ]      ‚äÜ       
       
     06/06/0555  ‚äá                         ‚ç∏             ‚Üí            ‚ç∑   P  :      ¬∏   T   ‚Üê ‚å∏    ‚åπ ‚åà   [ l   +‚ç§   ]      ‚å∏       
       
     05 05 0555 ‚ç§                         ‚ç•   @   .      (( T   =‚ç£    )/ T   )‚Üê‚ç®     ‚ç£                            ‚ç®             .              ‚Üê   @       ‚ä•    ‚äñ    ‚àò     ‚çñ  
     ¬∏     ' 'F‚Üê0' p
    """
    ‚ç± = ‚Üí = DAT_ = ( = < = DESC = J = 3 = , = # TODO: operator ‚ç£ with +
    return A 0 ‚Üí ( = M


def ‚çô(C, GET):
    """
    Transpiled from APL function: ‚çô
    Original header: F T ‚Üê ‚àò ( ‚ç≥ [ C ] ‚ç™ ‚çô GET WORKSPACE MESSAGE ‚ç™ ‚àò AP2WSQL '  `   H      ‚Üí(3 =‚ç≥   [3 ])/ ‚äá              ‚çô AND EXIT IF THERE IS ONE‚äá       ‚éï  `   H       T   ‚Üê ‚ç¶   ‚ç≥  ‚ç™                 ‚çô GET COMPLETION MESSAGE ‚ç™       ‚çû  `   J      ‚Üí‚ç≥   [# ]/ n                  ‚çô EXIT IF ' INCOMPLETE ' BIT IS ONn      ¬¢  `   F       P	   ‚Üê‚åπ                        ‚çô FORCE SIGNAL IF OFFER FAILS ‚åπ          ‚äÜ  P   4      ‚Üí  ‚çõ $   n                    ‚çô ENSURE OFFERn            ‚äá  P  >       L   ‚Üê‚ç£    ‚ç∏   ‚ç≥   ‚äá          ‚çô GET MESSAGE ‚äá  ‚ç∏              MSG        ‚ç∑  p   ^       T   ‚Üê( ‚çë T   ) ,[ ] ,[ ‚ç¶ ] ,   L   n        ‚çô COMPLETION CODE, MESSAGEn  ‚å∏  `   N      ‚Üí(  ^.= _ L   )/ .                ‚çô EXIT IF MSG CALL SUCCESSFUL . ‚ç§  p   T       T   ‚Üê ‚ç¶   ( _ L   )N                 ‚çô ELSE CHANGE COMPLETION CODE, N            ‚ç•  p   \       ‚åà   ‚Üê  ‚çò‚ç£   ‚ç£   ( _ L   )         ‚çô AND GET THE ' MSG ' ERROR, PL14659    ‚ç£              MSG        ‚ç®  ‚å∂   h       T   ‚Üê( , ‚çë T   ) ,[ ] ,[ ‚ç¶ ] , ‚çë ‚åà            ‚çô AND RETURN IT            PL14659        ‚ç≤         S ‚ç± ‚Üê   "   @S
    ‚ç±           ‚ç∑    X ‚ç≤ ‚çü ‚åπ ‚åΩ ‚äñ ‚çâ ! ‚åø ‚çÄ / \ ‚çù ‚Üí  ‚ç±  ¬§  ‚åª  ‚å∫ ‚Üê  ‚çÉ ‚Üê ‚Üí ‚ç∫  ‚åà  _  ‚àá  ' ‚éï ‚çû ‚äÜ ‚äá ‚ç∑ ‚ç§ ‚ç• ‚ç® 0 NO MORE MESSAGES T S ‚ç¥ FX 'Z‚ÜêNAM‚çÇ  @   &      ‚Üí( _ T   ‚Üê $    ‚çÉ   )/           ‚çÉ                            ‚çÑ  0          T   ‚Üê‚ç£    ‚çÖ         ‚çÖ              NAMES       ‚åº           ‚å∏  @      @  ‚ç±            ‚çÑ    `  ‚åº  ‚çÅ  ‚çÇ  ‚çÑ      ‚çñ         E  T  ¬≥  x  	  ‚çä  @  *     ‚åπ‚çô Z IS A NESTED VECTOR OF FIELDS IN V ‚åπ      ‚çë  @  (     ‚çµ‚çô L IS LENGTHS OF FIELDS IN VECTOR V‚çµ        
‚àá

‚àá  L   n        ‚çô COMPLETION CODE, MESSAGEn  ‚å∏  `   N      ‚Üí(  ^.= _ L   )/ .                ‚çô EXIT IF MSG CALL SUCCESSFUL . ‚ç§  p   T       T   ‚Üê ‚ç¶   ( _ L   )N                 ‚çô ELSE CHANGE COMPLETION CODE, N            ‚ç•  p   \       ‚åà   ‚Üê  ‚çò‚ç£   ‚ç£   ( _ L   )         ‚çô AND GET THE ' MSG ' ERROR, PL14659    ‚ç£              MSG        ‚ç®  ‚å∂   h       T   ‚Üê( , ‚çë T   ) ,[ ] ,[ ‚ç¶ ] , ‚çë ‚åà            ‚çô AND RETURN IT            PL14659        ‚ç≤         S ‚ç± ‚Üê   "   @S
    ‚ç±           ‚ç∑    X ‚ç≤ ‚çü ‚åπ ‚åΩ ‚äñ ‚çâ ! ‚åø ‚çÄ / \ ‚çù ‚Üí  ‚ç±  ¬§  ‚åª  ‚å∫ ‚Üê  ‚çÉ ‚Üê ‚Üí ‚ç∫  ‚åà  _  ‚àá  ' ‚éï ‚çû ‚äÜ ‚äá ‚ç∑ ‚ç§ ‚ç• ‚ç® 0 NO MORE MESSAGES T S ‚ç¥ FX 'Z‚ÜêNAM‚çÇ  @   &      ‚Üí( _ T   ‚Üê $    ‚çÉ   )/           ‚çÉ                            ‚çÑ  0          T   ‚Üê‚ç£    ‚çÖ         ‚çÖ              NAMES       ‚åº           ‚å∏  @      @  ‚ç±            ‚çÑ    `  ‚åº  ‚çÅ  ‚çÇ  ‚çÑ      ‚çñ         E  T  ¬≥  x  	  ‚çä  @  *     ‚åπ‚çô Z IS A NESTED VECTOR OF FIELDS IN V ‚åπ      ‚çë  @  (     ‚çµ‚çô L IS LENGTHS OF FIELDS IN VECTOR V‚çµ        ‚çò  P   @       	   ‚Üê  , ‚çô    ‚àá+\ ¬≥   ‚äá  ‚çô BEGINNINGS OF FIELDS‚äá‚çô            ¬ø¬ø¬ø¬ø            ‚çö  P  >       T   ‚Üê ¬≥    _¬µ 	    ‚àá¬µ ‚çë x   .  ‚çô PARTITION .  ‚çè         E  ‚çÜ  P      @E  ‚ç±           ‚ç¥     
    ‚çè  ‚çñ  ‚çä  ‚çë  ‚çò  ‚çö        ‚Üê  ‚çÆ           T √∑ ‚ç¥FX ' Z ‚Üê N * ‚åπ ‚çô DOES A CONTAIN ONLY NUMERIC DIGITS ? ‚åπ P > T ‚Üê / , √∑ ‚ç™ ‚äá ‚çô EXCLUDE E , J NOTATION ‚äá 0 - 123456789 . ‚ç±
    """
    ‚ç™ = N = reduce_plus(ravel(reciprocal(‚ç™(‚äá(np.array([‚çô, EXCLUDE, catenate(E, np.array([J, ‚äá(NOTATION, minus(0, 123456789))]))]))))))
    ‚ç™ = N = reduce_plus(ravel(reciprocal(‚ç™(‚äá(np.array([‚çô, EXCLUDE, catenate(E, np.array([J, ‚äá(NOTATION, minus(0, 123456789))]))]))))))
    ‚ç™ = P = F = ) = ‚à© = S = # TODO: operator ‚ç£ with +
    return F T


def ‚çô(x, PARTITION):
    """
    Transpiled from APL function: ‚çô
    Original header: x . ‚çô PARTITION . E P E ‚ç± ‚ç¥
    """
    UNKNOWN = T = ODBC = None
    ARGS = ARGS = < = ‚ç£ = N = reduce_plus(ravel(reciprocal(‚ç™(‚äá(np.array([‚çô, EXCLUDE, catenate(E, np.array([J, ‚äá(NOTATION, minus(0, 123456789))]))]))))))
    ‚ç™ = P = F = ) = ‚à© = S = ‚ç£ = PUR = ¬® = np.array([3, B])
    ARGS = ARGS = ‚ç£ = np.array([RE, quad_, F, n, minus(‚çô, np.array([RESUME, CALLS, QUE, TO, PROCESS, A, STACK, OF, DATA, ACCESS, REQUESTS, n, quote_quad_input(), F, n, minus(‚çô, np.array([QUE, CALLS, OFFER, TO, SHARE, catenate('DAT', np.array([IF, IT, IS, NOT, ALREADY, SHARED, n, P, minus(‚çô, np.array([ANY, ERROR, FORCES, AN, EXIT, FROM, QUE, WITH, THE, CUR]))]))]))]))])


def _(P, DAT):
    """
    Transpiled from APL function: _
    Original header: T ‚Üê ‚Üí ‚Üê P ‚ç± ‚àò ‚Üí ‚ç¨ ‚ç∫ ‚åà ‚åä _ ‚çã '           T  l  	  Z‚ÜêRE‚éï  `   F      n‚çô - RESUME CALLS  QUE  TO PROCESS A STACK OF DATA ACCESS REQUESTS n         ‚çû  `   F      n‚çô - QUE CALLS  OFFER  TO SHARE ' DAT ', IF IT IS NOT ALREADY SHARED n          ¬¢  P   @      ‚çô - ANY ERROR FORCES AN EXIT FROM QUE WITH THE CURRENT CODE,‚äÜ  P   6      n‚çô   DATA, AND STACK VALUES IN THE RESULT VECTOR Z n          ‚äá  `   B      .‚çô - RESUME REDUCES THE SECOND ITEM OF THE RESULT TO THE RESULT.              ‚ç∏  0        ‚ç™‚çô   OF FETCH REQUESTS ONLY‚ç™ ‚ç∑  P  >     ‚ç™‚çô - IF THERE WAS MORE THAN ONE FETCH, A MATRIX IS RETURNED‚ç™  ‚å∏  `   L       T   ‚Üê T    l   .                      ‚çô PROCESS STACK WITH QUE.   ‚ç§  p   X       	   ‚Üê _¬µ( ‚çõ#  ‚çò T   ) _ , l   ‚äá                ‚çô S IS PROCESSED OPCODES‚äá        ‚ç•  p   V       	   ‚Üê( ‚çë‚ç£   ) ‚å∏ 	   N                   ‚çô S INDICATES FETCH COMMANDS N         ‚ç£              FETCH      ‚ç®  ‚å∂   j       	   ‚Üê 	    ‚ç©(- ‚çõ 	   ) _ ~ ‚ç©/ 	   n                   ‚çô IF NO FETCHES USE LAST RESULTn      ‚ç†  p   Z      (#  ‚çò T   )‚Üê 	   /#  ‚çò T   .                      ‚çô SELECT FETCH DATA ONLY.      ‚å∏  `   H      ‚Üí( = ‚çõ#  ‚çò T   )/ ‚äá                      ‚çô EXIT IF NOTHING ‚äá        ‚åº  p   X      (#  ‚çò T   )‚Üê ,[ ‚ç¶ ]#  ‚çò T                      ‚çô CREATE MATRIX OTHERWISE        ‚çÅ  `   P      ‚Üí(  ‚Äø  _ ‚çõ#  ‚çò T   )/                     ‚çô EXIT IF MULTIPLE FETCH‚çÇ  p   X      (#  ‚çò T   )‚Üê _#  ‚çò T  ‚çµ                       ‚çô DECREASE DEPTH IF SINGULAR ‚çµ       ‚àò             ‚å∂      @
    ‚ç±           ‚ç∑   ‚çÄ ‚àò  ' ‚éï ‚çû ‚äÜ ‚äá ‚ç∏ ‚ç∑ ‚ç§ ‚ç• ‚ç® ‚çô ‚Üí D DAT
    """
    return T


def ‚çô(d, RETURNS):
    """
    Transpiled from APL function: ‚çô
    Original header: [ ] ) / n ‚çô PROCESS NEXTn ‚åà ‚ç± ‚â§ ‚ç™ T H FX 'Z‚ÜêSE   0          T   ‚Üê                                                                        P  >      ‚Üí( _( _ T   )‚Üê $   )/‚åπ           ‚çô SHARE DAT‚åπ    P   6      ‚åΩ( = ‚ç∏ H   )/   ‚çµ ‚çô ENCLOSE IF SIMPLE‚çµ                        OPTS‚Üê,‚çëOPTS   @  *       T   ‚Üê‚ç£   ( ‚çë    ) , H                       SETOPT      ¬µ           ¬¥  P      @  ‚ç±            ‚çÑ    0  ¬µ  ¬ø                 ‚à©  
           C  T  x  l   ‚ç¥FX  @  *     ‚åπ‚çô DISPLAY SQL RESULT ‚Üê CODE DATA STACK‚åπ                  n ‚çô n             0         n‚çô NON-SUSPENDABLE n                      n ‚çô n                        l   ‚Üê       p   V       T   ‚Üê            N                        ‚çô INITIALIZE TO EMPTIES N                                                                                                ‚å∂   b      ‚Üí( _( _ T   )‚Üêc  ‚å∫    ~( ‚çõ x   ) ‚ç∏ ,3 )/ n      ‚çô CDS MUST BE 3-ITEM VECTOR n                p   T      (  ‚çò T   )‚Üê X     ‚çò x  ‚ç™               ‚çô CODE - GET MESSAGE IF ANY‚ç™              P   @      (#  ‚çò T   )‚Üê#  ‚çò x   .                       ‚çô DATA .  p   X      (3  ‚çò T   )‚Üê3  ‚çò x  ‚åπ                       ‚çô STACK - EMPTY OR DEPTH 3 OR 4‚åπ          p   T       T   ‚Üê ,[ ‚ç¶ ] T  ‚çµ                          ‚çô DISPLAY DOWN THE SCREEN ‚çµ            	         C    p      @C  ‚ç±            ‚çÑ    `  	  
                                         P        T ‚à™  ‚åº  	 ‚ç¥  x  x  $	  ‚ç≠  ‚åà ‚à™ ‚Üí  l  l            P  >     ‚ç™‚çô - CREATES AND PROCESSES A SEQUENCE OF
‚àá

‚àá CK AS 1 COLUMN MATRIXn                  ‚Üê   !   @ 3‚ç±               ‚Äø                 !  "  #  $  %  &  ' ( ) - . 0 2 3 5 6 9 : > B E G I J K R S V L Y T A ‚ç¥ FX 'Z‚ÜêSQLZ  P  :     ‚åπ‚çô RETURNS CURRENT CONTENTS OF THE SQLCA CONTROL BLOCK ‚åπ     [  0          T   ‚Üê \   ]         \                           ]                            ^  `   D      ‚Üí( _( _ T   )‚Üê $   )/            ‚çô ENSURE AN OFFER            _  0          T   ‚Üê‚ç£    `         `              SQLCA       X           W  P      @	  ‚ç±                ‚çô  X  Y  Z [  ^  _         3  c           T  TATE ‚ç¥FX ' Z ‚Üê d , ‚äá ‚çô RETURNS THE CURRENT VALUE OF SQLSTATE ‚äá e 0 T ‚Üê f g f g h D ‚Üí ( _ ( _ T ) ‚Üê ) / ‚çô ENSURE AN OFFER i 0 T ‚Üê ‚ç£ j j SQLSTATE b a P ‚ç± b c d e h i k n T 0 'Z‚ÜêSSIDo  P  >      ‚Üí( _ T   ‚Üê $    p   )/‚çµ  ‚çô ENSURE AN OFFER ‚çµ  p                            q  `   B       T   ‚Üê‚ç£   ( ‚çë r   ) ,(  ‚Äø ‚çõ , 0   ) ‚çõ ‚çë 0                 r              SSID        m           l  @      @	  ‚ç±            ‚å∂      m  n  o  q      u           T  \  l ‚ÜêSTAv             l   ‚Üê     w  @   0      ‚çô RETURNS THE STATE WITH A MEANING APPENDED x  `   F      ‚Üí( _ T   ‚Üê $    y   )/           ‚çô ENSURE AN OFFER           y                            z  P  <       T   ‚Üê‚ç£   {    \  ‚åπ       ‚çô SPEC,REF DAT ‚åπ   {              STATE      |  P  <      ‚Üí( _ _ T   )
‚àá

‚àá  ‚åà          ‚çÄ           -              /            .              \              055        ‚çâ          ‚äñ  @      @  ‚ç±           ‚â§    ‚å∫ ‚çâ ! ‚åø         ‚ç±           T  x  X ' Z ‚Üê TOM 0 ‚äá ‚çô MATRIX GIVEN ANY ARRAY ‚äá . ‚Üí ( x ‚Üê = T ‚Üê x ) / d T ‚Üê ( ( ( / T ) / ‚Üê T ) , _ , T ) T ‚Üê ‚Üí ‚çù   P      @	  ‚ç±            x   √∑ ‚Üí  ‚ç±  ¬§  ‚åª  ‚å∫ *        ‚óã ‚Üí           T  ‚ç≠  X 'Z‚ÜêTRA‚ç¨  P  >      ‚Üí( _ T   ‚Üê $   ‚ç∫   )/‚çµ  ‚çô ENSURE AN OFFER ‚çµ ‚ç∫                            ‚åà  @  *       T   ‚Üê‚ç£   ( ‚çë ‚åä   ) , ‚ç≠         ‚åä              TRACE      ‚Üê           ‚çÑ  @      @-.‚ç±            X   ‚åº ‚Üê ‚Üí ‚ç¨  ‚åà     ‚àò         	  T  ‚ç≠    x  '  P  >     ‚ç™‚çô - THE DERIVED FUNCTION (F UNTIL) WILL PROCESS EACH ITEM ‚ç™ ‚éï  @   $      N‚çô    IN Q UNTIL AN ERROR OCCURS.N           ‚çû  P  :     ‚åπ‚çô - IF SUCCESSFUL, FUNCTION F MUST RETURN ONE OR MORE ‚åπ      ¬¢  P   2      .‚çô    ZEROES AS THE FIRST ITEM OF THE RESULT X..              ‚äÜ  0          T   ‚Üê ‚äá                 ‚äá                            ‚ç∏  0         ‚Üí( = ‚çõ    )/        ‚ç∑  ‚å∂   d      ‚ä•   T   ‚Üê T    , ‚çë x   ‚Üê ‚ç≠   ( _    )n             ‚çô PROCESS FIRST ITEM n            ‚å∏  p   T      ‚Üí( = ‚çõ    ‚Üê      )/‚ç™              ‚çô EXIT IF LAST ITEM IN STACK‚ç™           ‚ç§  `   P      ‚Üí(  ^.= _ x   )/‚ä•  ‚ç™               ‚çô PROCESS NEXT IF NO ERROR ‚ç™         	 ‚ä•     ‚çñ  ‚åà  _  `   	   @	  ‚ç±            ‚çÑ       ‚àò  ' ‚éï ‚çû  ¬¢  ‚äÜ  ‚ç∏ ‚ç∑  ‚å∏ ‚ç§  ‚çÅ     ‚ç•  0           ABCDEFGHIJKLMNOPQRSTUVWXYZ  ‚ç†           T < ‚ç¥FX 'Z‚ÜêX‚å∏  P  >      ‚Üí( _ T   ‚Üê $    ‚åº  
    """
    return [ ] ) / n ‚çô PROCESS NEXTn ‚åà ‚ç± ‚â§ ‚ç™ T H FX 'Z‚ÜêSE   0          T   ‚Üê                                                                        P  >      ‚Üí( _( _ T   )‚Üê $   )/‚åπ           ‚çô SHARE DAT‚åπ    P   6      ‚åΩ( = ‚ç∏ H   )/   ‚çµ ‚çô ENCLOSE IF SIMPLE‚çµ                        OPTS‚Üê,‚çëOPTS   @  *       T   ‚Üê‚ç£   ( ‚çë    ) , H                       SETOPT      ¬µ           ¬¥  P      @  ‚ç±            ‚çÑ    0  ¬µ  ¬ø                 ‚à©  
           C  T  x  l   ‚ç¥FX  @  *     ‚åπ‚çô DISPLAY SQL RESULT ‚Üê CODE DATA STACK‚åπ                  n ‚çô n             0         n‚çô NON-SUSPENDABLE n                      n ‚çô n                        l   ‚Üê       p   V       T   ‚Üê            N                        ‚çô INITIALIZE TO EMPTIES N                                                                                                ‚å∂   b      ‚Üí( _( _ T   )‚Üêc  ‚å∫    ~( ‚çõ x   ) ‚ç∏ ,3 )/ n      ‚çô CDS MUST BE 3-ITEM VECTOR n                p   T      (  ‚çò T   )‚Üê X     ‚çò x  ‚ç™               ‚çô CODE - GET MESSAGE IF ANY‚ç™              P   @      (#  ‚çò T   )‚Üê#  ‚çò x   .                       ‚çô DATA .  p   X      (3  ‚çò T   )‚Üê3  ‚çò x  ‚åπ                       ‚çô STACK - EMPTY OR DEPTH 3 OR 4‚åπ          p   T       T   ‚Üê ,[ ‚ç¶ ] T  ‚çµ                          ‚çô DISPLAY DOWN THE SCREEN ‚çµ            	         C    p      @C  ‚ç±            ‚çÑ    `  	  
                                         P        T ‚à™  ‚åº  	 ‚ç¥  x  x  $	  ‚ç≠  ‚åà ‚à™ ‚Üí  l  l            P  >     ‚ç™‚çô - CREATES AND PROCESSES A SEQUENCE OF
‚àá

‚àá CK AS 1 COLUMN MATRIXn                  ‚Üê   !   @ 3‚ç±               ‚Äø                 !  "  #  $  %  &  ' ( ) - . 0 2 3 5 6 9 : > B E G I J K R S V L Y T A ‚ç¥ FX 'Z‚ÜêSQLZ  P  :     ‚åπ‚çô RETURNS CURRENT CONTENTS OF THE SQLCA CONTROL BLOCK ‚åπ     [  0          T   ‚Üê \   ]         \                           ]                            ^  `   D      ‚Üí( _( _ T   )‚Üê $   )/            ‚çô ENSURE AN OFFER            _  0          T   ‚Üê‚ç£    `         `              SQLCA       X           W  P      @	  ‚ç±                ‚çô  X  Y  Z [  ^  _         3  c           T  TATE ‚ç¥FX ' Z


def x(T, ABCDEFGHIJKLMNOPQRSTUVWXYZ):
    """
    Transpiled from APL function: x
    Original header: - . ‚ç± X ‚Üê ‚Üí ‚ç¨ ‚åà ‚àò T x '  P  >     ‚ç™‚çô - THE DERIVED FUNCTION (F UNTIL) WILL PROCESS EACH ITEM ‚ç™ ‚éï  @   $      N‚çô    IN Q UNTIL AN ERROR OCCURS.N           ‚çû  P  :     ‚åπ‚çô - IF SUCCESSFUL, FUNCTION F MUST RETURN ONE OR MORE ‚åπ      ¬¢  P   2      .‚çô    ZEROES AS THE FIRST ITEM OF THE RESULT X..              ‚äÜ  0          T   ‚Üê ‚äá                 ‚äá                            ‚ç∏  0         ‚Üí( = ‚çõ    )/        ‚ç∑  ‚å∂   d      ‚ä•   T   ‚Üê T    , ‚çë x   ‚Üê ‚ç≠   ( _    )n             ‚çô PROCESS FIRST ITEM n            ‚å∏  p   T      ‚Üí( = ‚çõ    ‚Üê      )/‚ç™              ‚çô EXIT IF LAST ITEM IN STACK‚ç™           ‚ç§  `   P      ‚Üí(  ^.= _ x   )/‚ä•  ‚ç™               ‚çô PROCESS NEXT IF NO ERROR ‚ç™         	 ‚ä•     ‚çñ  ‚åà  _  `   	   @	  ‚ç±            ‚çÑ       ‚àò  ' ‚éï ‚çû ‚äÜ ‚ç∏ ‚ç∑ ‚ç§ ‚ç• 0 ABCDEFGHIJKLMNOPQRSTUVWXYZ T < ‚ç¥ FX 'Z‚ÜêX‚å∏  P  >      ‚Üí( _ T   ‚Üê $    ‚åº   )/‚çµ  ‚çô ENSURE AN OFFER ‚çµ  ‚åº                            ‚çÅ  @  *       T   ‚Üê‚ç£   ( ‚çë ‚çÇ   ) ,<         ‚çÇ              XMLSIZE    ‚ç®          ‚ç£  @      @	‚ç±           ‚ä•     ‚ç®  ‚ç†  ‚å∏  ‚çÅ      
‚àá

‚àá     )/‚ç™              ‚çô EXIT IF LAST ITEM IN STACK‚ç™           ‚ç§  `   P      ‚Üí(  ^.= _ x   )/‚ä•  ‚ç™               ‚çô PROCESS NEXT IF NO ERROR ‚ç™         	 ‚ä•     ‚çñ  ‚åà  _  `   	   @	  ‚ç±            ‚çÑ       ‚àò  ' ‚éï ‚çû ‚äÜ ‚ç∏ ‚ç∑ ‚ç§ ‚ç• 0 ABCDEFGHIJKLMNOPQRSTUVWXYZ T < ‚ç¥ FX 'Z‚ÜêX‚å∏  P  >      ‚Üí( _ T   ‚Üê $    ‚åº   )/‚çµ  ‚çô ENSURE AN OFFER ‚çµ  ‚åº                            ‚çÅ  @  *       T   ‚Üê‚ç£   ( ‚çë ‚çÇ   ) ,<         ‚çÇ              XMLSIZE    ‚ç®          ‚ç£  @      @	‚ç±           ‚ä•     ‚ç®  ‚ç†  ‚å∏  ‚çÅ      
‚àá
'
    """
    return - . ‚ç± X

